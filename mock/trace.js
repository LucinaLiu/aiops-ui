const traces = [
  {
    endpointNames: ['/projectC/{value}'],
    duration: 62211,
    start: '1585821752894',
    isError: false,
    id: '1585821751836.67796388.91842',
  },
  {
    endpointNames: ['/projectC/{value}'],
    duration: 62150,
    start: '1585822075256',
    isError: false,
    id: '1585822075153.398272509.16846',
  },
  {
    endpointNames: ['/projectA/test'],
    duration: 8214,
    start: '1585821841919',
    isError: true,
    id: '1585821841919.862520767.41999',
  },
  {
    endpointNames: ['/projectA/test'],
    duration: 8137,
    start: '1585822111718',
    isError: false,
    id: '1585822111718.641466163.97363',
  },
  {
    endpointNames: ['org.skywalking.springcloud.test.projectd.MessageConsumer.consumer()'],
    duration: 3,
    start: '1585822016701',
    isError: false,
    id: '1585822011592.669693347.16819',
  },
  {
    id: '4.49.15863868283530302',
    endpointNames: ['/projectB/{value}'],
    duration: 2588,
    start: '1586386828353',
    isError: false,
  },
  {
    id: '4.49.15863869778890352',
    endpointNames: ['/projectB/{value}'],
    duration: 2521,
    start: '1586386977889',
    isError: false,
  },
  {
    id: '4.43.15863870312190748',
    endpointNames: ['/projectB/{value}'],
    duration: 2513,
    start: '1586387031219',
    isError: false,
  },
  {
    id: '4.41.15863870917330898',
    endpointNames: ['/projectB/{value}'],
    duration: 2407,
    start: '1586387091733',
    isError: false,
  },
  {
    id: '7.20.15863871142074414',
    endpointNames: ['org.skywalking.springcloud.test.projectd.MessageConsumer.consumer()'],
    duration: 2,
    start: '1586387114207',
    isError: false,
  },
  {
    id: '7.20.15863871092054412',
    endpointNames: ['org.skywalking.springcloud.test.projectd.MessageConsumer.consumer()'],
    duration: 2,
    start: '1586387109205',
    isError: false,
  },
  {
    id: '7.20.15863871042044410',
    endpointNames: ['org.skywalking.springcloud.test.projectd.MessageConsumer.consumer()'],
    duration: 1,
    start: '1586387104204',
    isError: false,
  },
];
export default {
  'POST /aiops/trace/trace': (req, res) => {
    const {
      traceState,
      minTraceDuration,
      maxTraceDuration,
      queryOrder,
      paging: { pageNum, pageSize },
    } = req.body;
    let myTraces = [...traces];
    switch (String(traceState)) {
      case 'SUCCESS':
        myTraces = myTraces.filter(val => !val.isError);
        break;
      case 'ERROR':
        myTraces = myTraces.filter(val => val.isError);
        break;
    }
    if (minTraceDuration) {
      myTraces = myTraces.filter(val => val.duration >= minTraceDuration);
    }
    if (maxTraceDuration) {
      myTraces = myTraces.filter(val => val.duration <= maxTraceDuration);
    }
    switch (String(queryOrder)) {
      case 'BY_START_TIME':
        myTraces.sort((a, b) => b.start - a.start);
        break;
      case 'BY_DURATION':
        myTraces.sort((a, b) => b.duration - a.duration);
        break;
    }
    res.end(
      JSON.stringify({
        total: myTraces.length,
        traces: myTraces.slice((pageNum - 1) * pageSize, pageNum * pageSize),
      }),
    );
  },
  'GET /aiops/trace/span': [
    {
      traceId: '1586419923697.125867092.47389',
      segmentId: '1586419923697.125867092.47389',
      spanId: 0,
      parentId: -1,
      refs: [],
      serviceCode: 'load balancer1.system',
      startTime: 1586419923697,
      endTime: 1586419928907,
      endpointName: '/projectA/test',
      type: 'Entry',
      peer: '',
      component: 'Nginx',
      isError: false,
      layer: 'Http',
      tags: [
        { key: 'http.method', value: 'GET' },
        { key: 'http.params', value: 'http://192.168.252.13/projectA/test' },
      ],
      logs: [],
    },
    {
      traceId: '1586419923697.125867092.47389',
      segmentId: '1586419923697.125867092.47389',
      spanId: 1,
      parentId: 0,
      refs: [],
      serviceCode: 'load balancer1.system',
      startTime: 1586419923697,
      endTime: 1586419928907,
      endpointName: '/projectA/test',
      type: 'Exit',
      peer: '192.168.252.13:18080',
      component: 'Nginx',
      isError: false,
      layer: 'Http',
      tags: [],
      logs: [],
    },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '1586419923698.144514576.8730',
    //   spanId: 2,
    //   parentId: -1,
    //   refs: [
    //     {
    //       traceId: '1586419923697.125867092.47389',
    //       parentSegmentId: '1586419923697.125867092.47389',
    //       parentId: 1,
    //       type: 'CROSS_PROCESS',
    //     },
    //   ],
    //   serviceCode: 'load balancer2.system',
    //   startTime: 1586419923698,
    //   endTime: 1586419928907,
    //   endpointName: '/projectA/test',
    //   type: 'Entry',
    //   peer: '',
    //   component: 'Nginx',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'http.method', value: 'GET' },
    //     { key: 'http.params', value: 'http://proxy.skywalking.com/projectA/test' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '1586419923698.144514576.8730',
    //   spanId: 3,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'load balancer2.system',
    //   startTime: 1586419923698,
    //   endTime: 1586419928907,
    //   endpointName: '/projectA/test',
    //   type: 'Exit',
    //   peer: 'upstream:projectA',
    //   component: 'Nginx',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '18.49.15864199236980902',
    //   spanId: 4,
    //   parentId: -1,
    //   refs: [
    //     {
    //       traceId: '1586419923697.125867092.47389',
    //       parentSegmentId: '1586419923698.144514576.8730',
    //       parentId: 1,
    //       type: 'CROSS_PROCESS',
    //     },
    //   ],
    //   serviceCode: 'projectA.business-zone',
    //   startTime: 1586419923698,
    //   endTime: 1586419928907,
    //   endpointName: '/projectA/{name}',
    //   type: 'Entry',
    //   peer: '',
    //   component: 'SpringMVC',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'url', value: 'http://proxy1.skywalking.com/projectA/test' },
    //     { key: 'http.method', value: 'GET' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '18.49.15864199236980902',
    //   spanId: 5,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectA.business-zone',
    //   startTime: 1586419923698,
    //   endTime: 1586419923878,
    //   endpointName: '/projectB/test',
    //   type: 'Exit',
    //   peer: 'PROJECTB:80',
    //   component: 'SpringRestTemplate',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'url', value: 'http://PROJECTB:-1/projectB/test' },
    //     { key: 'http.method', value: 'GET' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '4.41.15864199236981178',
    //   spanId: 6,
    //   parentId: -1,
    //   refs: [
    //     {
    //       traceId: '1586419923697.125867092.47389',
    //       parentSegmentId: '18.49.15864199236980902',
    //       parentId: 1,
    //       type: 'CROSS_PROCESS',
    //     },
    //   ],
    //   serviceCode: 'projectB.business-zone',
    //   startTime: 1586419923698,
    //   endTime: 1586419923878,
    //   endpointName: '/projectB/{value}',
    //   type: 'Entry',
    //   peer: '',
    //   component: 'SpringMVC',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'url', value: 'http://demo:8762/projectB/test' },
    //     { key: 'http.method', value: 'GET' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '4.41.15864199236981178',
    //   spanId: 7,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectB.business-zone',
    //   startTime: 1586419923699,
    //   endTime: 1586419923699,
    //   endpointName:
    //     'org.skywalking.springcloud.test.projectb.dao.DatabaseOperateDao.saveUser(java.lang.String)',
    //   type: 'Local',
    //   peer: '',
    //   component: '',
    //   isError: false,
    //   layer: 'Unknown',
    //   tags: [{ key: 'user.name', value: 'test' }],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '4.41.15864199236981178',
    //   spanId: 8,
    //   parentId: 1,
    //   refs: [],
    //   serviceCode: 'projectB.business-zone',
    //   startTime: 1586419923699,
    //   endTime: 1586419923699,
    //   endpointName: 'H2/JDBI/PreparedStatement/execute',
    //   type: 'Exit',
    //   peer: 'localhost:-1',
    //   component: 'h2-jdbc-driver',
    //   isError: false,
    //   layer: 'Database',
    //   tags: [
    //     { key: 'db.type', value: 'sql' },
    //     { key: 'db.instance', value: 'test' },
    //     { key: 'db.statement', value: 'INSERT INTO user(name) VALUES(?)' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '4.41.15864199236981178',
    //   spanId: 9,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectB.business-zone',
    //   startTime: 1586419923699,
    //   endTime: 1586419923878,
    //   endpointName: 'selectUser',
    //   type: 'Local',
    //   peer: '',
    //   component: '',
    //   isError: false,
    //   layer: 'Unknown',
    //   tags: [{ key: 'user.name', value: 'test' }],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '4.41.15864199236981178',
    //   spanId: 10,
    //   parentId: 3,
    //   refs: [],
    //   serviceCode: 'projectB.business-zone',
    //   startTime: 1586419923699,
    //   endTime: 1586419923878,
    //   endpointName: 'H2/JDBI/PreparedStatement/execute',
    //   type: 'Exit',
    //   peer: 'localhost:-1',
    //   component: 'h2-jdbc-driver',
    //   isError: false,
    //   layer: 'Database',
    //   tags: [
    //     { key: 'db.type', value: 'sql' },
    //     { key: 'db.instance', value: 'test' },
    //     { key: 'db.statement', value: 'SELECT * FROM user WHERE name =?' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '18.49.15864199236980902',
    //   spanId: 10,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectA.business-zone',
    //   startTime: 1586419923878,
    //   endTime: 1586419928906,
    //   endpointName: '/projectC/{name}',
    //   type: 'Exit',
    //   peer: 'projectC:80',
    //   component: 'Feign',
    //   isError: true,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'http.method', value: 'GET' },
    //     { key: 'url', value: 'http://projectC/projectC/test' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '5.333713.15864199288821166',
    //   spanId: 11,
    //   parentId: -1,
    //   refs: [
    //     {
    //       traceId: '1586419923697.125867092.47389',
    //       parentSegmentId: '18.49.15864199236980902',
    //       parentId: 2,
    //       type: 'CROSS_PROCESS',
    //     },
    //   ],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419928882,
    //   endTime: 1586419928906,
    //   endpointName: '/projectC/{value}',
    //   type: 'Entry',
    //   peer: '',
    //   component: 'SpringMVC',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'url', value: 'http://demo:8763/projectC/test' },
    //     { key: 'http.method', value: 'GET' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '5.333713.15864199288821166',
    //   spanId: 12,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419928883,
    //   endTime: 1586419928904,
    //   endpointName: '/',
    //   type: 'Exit',
    //   peer: 'www.baidu.com:80',
    //   component: 'HttpClient',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [{ key: 'url', value: 'http://www.baidu.com' }, { key: 'http.method', value: 'GET' }],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '5.333713.15864199288821166',
    //   spanId: 13,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419928904,
    //   endTime: 1586419928905,
    //   endpointName: 'Kafka/test-trace-topic/Producer',
    //   type: 'Exit',
    //   peer: '127.0.0.1:9092',
    //   component: 'kafka-producer',
    //   isError: false,
    //   layer: 'MQ',
    //   tags: [
    //     { key: 'mq.broker', value: '127.0.0.1:9092' },
    //     { key: 'mq.topic', value: 'test-trace-topic' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '16.46524.15864199238793286',
    //   spanId: 14,
    //   parentId: -1,
    //   refs: [
    //     {
    //       traceId: '1586419923697.125867092.47389',
    //       parentSegmentId: '18.49.15864199236980902',
    //       parentId: 2,
    //       type: 'CROSS_PROCESS',
    //     },
    //   ],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419923879,
    //   endTime: 1586419984911,
    //   endpointName: '/projectC/{value}',
    //   type: 'Entry',
    //   peer: '',
    //   component: 'SpringMVC',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [
    //     { key: 'url', value: 'http://other:8763/projectC/test' },
    //     { key: 'http.method', value: 'GET' },
    //   ],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '16.46524.15864199238793286',
    //   spanId: 15,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419924880,
    //   endTime: 1586419924908,
    //   endpointName: '/',
    //   type: 'Exit',
    //   peer: 'www.baidu.com:80',
    //   component: 'HttpClient',
    //   isError: false,
    //   layer: 'Http',
    //   tags: [{ key: 'url', value: 'http://www.baidu.com' }, { key: 'http.method', value: 'GET' }],
    //   logs: [],
    // },
    // {
    //   traceId: '1586419923697.125867092.47389',
    //   segmentId: '16.46524.15864199238793286',
    //   spanId: 16,
    //   parentId: 0,
    //   refs: [],
    //   serviceCode: 'projectC.business-zone',
    //   startTime: 1586419924909,
    //   endTime: 1586419984909,
    //   endpointName: 'Kafka/test-trace-topic/Producer',
    //   type: 'Exit',
    //   peer: '127.0.0.1:9092',
    //   component: 'kafka-producer',
    //   isError: false,
    //   layer: 'MQ',
    //   tags: [
    //     { key: 'mq.broker', value: '127.0.0.1:9092' },
    //     { key: 'mq.topic', value: 'test-trace-topic' },
    //   ],
    //   logs: [],
    // },
  ],
};
